<!doctype html>
<html lang="uk">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>üß® –û–±–µ—Ä–µ–∂–Ω–æ, –±–æ–º–±–∞</title>

<style>
:root{
  --bg:#0b0f17;
  --panel:#121a27cc;
  --tile:#0b1220f2;
  --tileHover:#18233a;
  --safe:#1f7a3a;
  --bomb:#7a1f1f;
  --text:#e8eefc;
  --muted:#a9b5d3;
  --border:#253150;
}

*{box-sizing:border-box;}
html,body{
  margin:0;height:100%;
  background:var(--bg);color:var(--text);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
}

.app{
  height:100%;
  display:grid;
  grid-template-rows:auto 1fr;
}

.topbar{
  display:flex;justify-content:space-between;align-items:center;
  padding:10px 14px;background:var(--panel);
  border-bottom:1px solid #27324a;
}

.btn{
  border:1px solid #2a3754;
  background:#121a27;
  color:var(--text);
  padding:10px 14px;
  border-radius:12px;
  font-weight:800;
  cursor:pointer;
  text-decoration:none;
}
.btn:hover{background:#18233a;}
.btn.ghost{background:transparent;}
.btn.danger{background:#2a1414;border-color:#6b2a2a;}

.stage{
  display:grid;
  grid-template-columns:1fr 280px;
  gap:20px;
  padding:20px;
  height:100%;
}

/* ====== BOARD ====== */
.boardWrap{
  display:grid;
  place-items:center;
}

.board{
  width:100%;
  height:100%;
  max-width:90vmin;
  max-height:90vmin;

  display:grid;
  grid-template-columns:80px repeat(5, 1fr);
  grid-template-rows:80px repeat(5, 1fr);
  gap:12px;
}

.label{
  display:grid;
  place-items:center;
  font-size:clamp(22px,3vw,36px);
  font-weight:900;
  color:var(--muted);
}

.cell{
  background:var(--tile);
  border:2px solid #2a3754;
  border-radius:18px;
  display:grid;
  place-items:center;
  font-size:clamp(32px,6vw,64px);
  font-weight:900;
  cursor:pointer;
  transition:.2s;
  aspect-ratio:1/1; /* ‚úÖ –ö–í–ê–î–†–ê–¢ */
}

.cell:hover{background:var(--tileHover);}

.cell.open.safe{
  background:var(--safe);
}

.cell.open.bomb{
  background:var(--bomb);
}

/* ====== SIDE PANEL ====== */
.side{
  display:flex;
  flex-direction:column;
  gap:20px;
  justify-content:space-between;
}

.hint{
  padding:18px;
  border-radius:18px;
  border:1px solid #253150;
  background:#121a27cc;
  font-size:clamp(18px,2vw,26px);
  font-weight:900;
  line-height:1.3;
}

.footerBtns{
  display:flex;
  flex-direction:column;
  gap:12px;
}
</style>
</head>

<body>
<div class="app">
  <div class="topbar">
    <div>
      <a class="btn ghost" href="../../">‚Üê –ú–µ–Ω—é</a>
      <strong style="margin-left:14px;">üß® –û–±–µ—Ä–µ–∂–Ω–æ, –±–æ–º–±–∞</strong>
    </div>
    <div>
      <button class="btn" id="btnReset">Reset</button>
      <button class="btn danger" id="btnReveal">Reveal</button>
    </div>
  </div>

  <div class="stage">

    <!-- ====== BOARD ====== -->
    <div class="boardWrap">
      <div class="board" id="board"></div>
    </div>

    <!-- ====== SIDE PANEL ====== -->
    <div class="side">
      <div class="hint">
        üì¢ –ù–∞–∑–∏–≤–∞–π—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏<br/>
        <span style="font-size:1.4em;">A1 ‚Äì E5</span>
      </div>

      <div class="footerBtns">
        <button class="btn" onclick="buildBoard()">üîÑ –ù–æ–≤–∞ –≥—Ä–∞</button>
        <button class="btn danger" onclick="reveal()">üëÅ –ü–æ–∫–∞–∑–∞—Ç–∏ –±–æ–º–±–∏</button>
      </div>
    </div>

  </div>
</div>

<script>
const SIZE = 5;
const BOMBS = 4; // üëà –∫—ñ–ª—å–∫—ñ—Å—Ç—å –±–æ–º–±
const letters = ["A","B","C","D","E"];

let bombs = new Set();
let opened = new Set();
const board = document.getElementById("board");

function key(r,c){ return r+"-"+c; }

function generateBombs(){
  bombs.clear();
  while(bombs.size < BOMBS){
    const r = Math.floor(Math.random()*SIZE);
    const c = Math.floor(Math.random()*SIZE);
    bombs.add(key(r,c));
  }
}

function buildBoard(){
  board.innerHTML = "";
  opened.clear();
  generateBombs();

  board.appendChild(div(""));

  for(let c=0;c<SIZE;c++){
    board.appendChild(label(c+1));
  }

  for(let r=0;r<SIZE;r++){
    board.appendChild(label(letters[r]));
    for(let c=0;c<SIZE;c++){
      const cell = div("");
      cell.className="cell";
      cell.onclick=()=>openCell(r,c,cell);
      board.appendChild(cell);
    }
  }
}

function openCell(r,c,cell){
  const k = key(r,c);
  if(opened.has(k)) return;
  opened.add(k);
  cell.classList.add("open");

  if(bombs.has(k)){
    cell.classList.add("bomb");
    cell.textContent="üí•";
  }else{
    cell.classList.add("safe");
    cell.textContent="‚úÖ";
  }
}

function reveal(){
  document.querySelectorAll(".cell").forEach((cell,i)=>{
    const r = Math.floor(i / SIZE);
    const c = i % SIZE;
    if(bombs.has(key(r,c))){
      cell.classList.add("open","bomb");
      cell.textContent="üí£";
    }
  });
}

function div(t){const d=document.createElement("div");d.textContent=t;return d;}
function label(t){const d=div(t);d.className="label";return d;}

document.getElementById("btnReset").onclick=buildBoard;
document.getElementById("btnReveal").onclick=reveal;

buildBoard();
</script>
</body>
</html>
