<!doctype html>
<html lang="uk">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>üß® –û–±–µ—Ä–µ–∂–Ω–æ, –±–æ–º–±–∞</title>

<style>
:root{
  --bg:#0b0f17;
  --panel:#121a27cc;
  --tile:#0b1220f2;
  --tileHover:#18233a;
  --safe:#1f7a3a;
  --bomb:#7a1f1f;
  --text:#e8eefc;
  --muted:#a9b5d3;
  --border:#253150;
}

*{box-sizing:border-box;}
html,body{
  margin:0;height:100%;
  background:var(--bg);color:var(--text);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
}

.app{height:100%;display:grid;grid-template-rows:auto 1fr;}

.topbar{
  display:flex;justify-content:space-between;align-items:center;
  padding:10px 12px;background:var(--panel);
  border-bottom:1px solid #27324a;
}

.btn{
  border:1px solid #2a3754;background:#121a27;color:var(--text);
  padding:10px 14px;border-radius:12px;
  font-weight:800;cursor:pointer;text-decoration:none;
}
.btn:hover{background:#18233a;}
.btn.ghost{background:transparent;}
.btn.danger{background:#2a1414;border-color:#6b2a2a;}

.stage{display:grid;place-items:center;padding:16px;}

.board{
  width:min(600px,92vw);
  display:grid;
  grid-template-columns:60px repeat(5,1fr);
  grid-template-rows:60px repeat(5,1fr);
  gap:8px;
}

.label{
  display:grid;place-items:center;
  color:var(--muted);font-weight:900;
}

.cell{
  background:var(--tile);
  border:1px solid #2a3754;
  border-radius:14px;
  display:grid;place-items:center;
  font-size:28px;font-weight:900;
  cursor:pointer;
  transition:.2s;
}
.cell:hover{background:var(--tileHover);}
.cell.open.safe{
  background:var(--safe);
}
.cell.open.bomb{
  background:var(--bomb);
}

.footer{
  margin-top:16px;
  display:flex;gap:12px;justify-content:center;
}
</style>
</head>

<body>
<div class="app">
  <div class="topbar">
    <div>
      <a class="btn ghost" href="../../">‚Üê –ú–µ–Ω—é</a>
      <strong style="margin-left:12px;">üß® –û–±–µ—Ä–µ–∂–Ω–æ, –±–æ–º–±–∞</strong>
    </div>
    <div>
      <button class="btn" id="btnReset">Reset</button>
      <button class="btn danger" id="btnReveal">Reveal</button>
    </div>
  </div>

  <div class="stage">
    <div class="board" id="board"></div>

    <div class="footer">
      <div class="label">–ù–∞–∑–∏–≤–∞–π—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏: A1 ‚Äì E5</div>
    </div>
  </div>
</div>

<script>
const SIZE = 5;
const BOMBS = 4; // üëà –º–æ–∂–Ω–∞ –∑–º—ñ–Ω—é–≤–∞—Ç–∏
const letters = ["A","B","C","D","E"];

let bombs = new Set();
let opened = new Set();

const board = document.getElementById("board");

function coordKey(r,c){ return r+"-"+c; }

function generateBombs(){
  bombs.clear();
  while(bombs.size < BOMBS){
    const r = Math.floor(Math.random()*SIZE);
    const c = Math.floor(Math.random()*SIZE);
    bombs.add(coordKey(r,c));
  }
}

function buildBoard(){
  board.innerHTML = "";
  opened.clear();
  generateBombs();

  board.appendChild(div("")); // empty corner

  for(let c=0;c<SIZE;c++){
    board.appendChild(label(c+1));
  }

  for(let r=0;r<SIZE;r++){
    board.appendChild(label(letters[r]));
    for(let c=0;c<SIZE;c++){
      const cell = div("");
      cell.className="cell";
      cell.onclick=()=>openCell(r,c,cell);
      board.appendChild(cell);
    }
  }
}

function openCell(r,c,cell){
  const key = coordKey(r,c);
  if(opened.has(key)) return;
  opened.add(key);
  cell.classList.add("open");

  if(bombs.has(key)){
    cell.classList.add("bomb");
    cell.textContent="üí•";
  }else{
    cell.classList.add("safe");
    cell.textContent="‚úÖ";
  }
}

function reveal(){
  document.querySelectorAll(".cell").forEach((cell,i)=>{
    const r = Math.floor(i / SIZE);
    const c = i % SIZE;
    const key = coordKey(r,c);
    if(bombs.has(key)){
      cell.classList.add("open","bomb");
      cell.textContent="üí£";
    }
  });
}

function div(t){const d=document.createElement("div");d.textContent=t;return d;}
function label(t){const d=div(t);d.className="label";return d;}

document.getElementById("btnReset").onclick=buildBoard;
document.getElementById("btnReveal").onclick=reveal;

buildBoard();
</script>
</body>
</html>
